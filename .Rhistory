p
p<-ggplot() +
geom_line(data = sel_data,aes(x = Age,y=Proportion,color = as.factor(Model)))
p
p<-ggplot() +
#geom_line(data = mat.t,aes(x=age,y=prop)) +
geom_line(data = sel_data,aes(x = Age,y=Proportion,color = as.factor(Model))) +
facet_grid(Sex~Fleet)
p
p<-ggplot() +
#geom_line(data = mat.t,aes(x=age,y=prop)) +
geom_line(data = sel_data,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model))) +
facet_grid(Sex~Fleet)
p
p<-ggplot() +
#geom_line(data = mat.t,aes(x=age,y=prop)) +
geom_line(data = sel_data,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),line_width = 1.3) +
facet_grid(Sex~Fleet)
p<-ggplot() +
#geom_line(data = mat.t,aes(x=age,y=prop)) +
geom_line(data = sel_data,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),line.width = 1.3) +
facet_grid(Sex~Fleet)
p<-ggplot() +
#geom_line(data = mat.t,aes(x=age,y=prop)) +
geom_line(data = sel_data,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),size = 1.3) +
facet_grid(Sex~Fleet)
p<-ggplot() +
#geom_line(data = mat.t,aes(x=age,y=prop)) +
geom_line(data = sel_data,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
facet_grid(Sex~Fleet)
p
sel_data.f<-sel_data %>% filter(Sex==1)
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed") +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
facet_wrap(Fleet)
sel_data.f<-sel_data %>% filter(Sex==1)
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed") +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
facet_wrap(~Fleet)
p
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed") +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
facet_wrap(~Fleet)
p
p2<-ggplot() +
geom_line(data = sel_data.m,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
facet_wrap(~Fleet)
sel_data.m<-sel_data %>% filter(Sex == 2)
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed") +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
facet_wrap(~Fleet)
p
p2<-ggplot() +
geom_line(data = sel_data.m,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
facet_wrap(~Fleet)
p3<-p+p2
p2<-ggplot() +
geom_line(data = sel_data.m,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
facet_wrap(~Fleet)
p2
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed")  +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
+ scale_color_viridis() +
facet_wrap(~Fleet)
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed")  +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
+ scale_color_viridis_d() +
facet_wrap(~Fleet)
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed")  +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
scale_color_viridis_d() +
facet_wrap(~Fleet)
p
p2<-ggplot() +
geom_line(data = sel_data.m,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
scale_color_viridis_d() +
facet_wrap(~Fleet)
p2
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed")  +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
scale_color_viridis_d() +
labs(x = "Age",y = "Proportion") +
facet_wrap(~Fleet)
p
p2<-ggplot() +
geom_line(data = sel_data.m,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
scale_color_viridis_d() +
labs(x = "Age",y="Proportion") +
facet_wrap(~Fleet)
p2
sex.labs <- c("Females", "Males")
names(sex.labs) <- c("1", "2")
fleet.labs <- c("Fishery", "Survey (All or Western-Central)","Survey (Eastern)")
names(fleet.labs) <- c("1", "2","3")
sel_data.f<-sel_data %>% filter(Sex==1)
sel_data.m<-sel_data %>% filter(Sex == 2)
sex.labs <- c("Females", "Males")
names(sex.labs) <- c("1", "2")
fleet.labs <- c("Fishery", "Survey (All or Western-Central)","Survey (Eastern)")
names(fleet.labs) <- c("1", "2","3")
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed")  +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
scale_color_viridis_d() +
labs(x = "Age",y = "Proportion") +
facet_wrap(~Fleet,labeller = labeller(Fleet = fleet.labs))
p
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed")  +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
scale_color_viridis_d() +
labs(x = "Age",y = "Proportion") +
ggtitle("Female Selectivity and Maturity") +
facet_wrap(~Fleet,labeller = labeller(Fleet = fleet.labs))
p
p2<-ggplot() +
geom_line(data = sel_data.m,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
scale_color_viridis_d() +
labs(x = "Age",y="Proportion") +
ggtitle("Male Selectivity") +
facet_wrap(~Fleet,labeller = labeller(Fleet = fleet.labs))
p2
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed")  +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
scale_color_viridis_d() +
labs(x = "Age",y = "Proportion") +
ggtitle("Female Selectivity and Maturity") +
guides(fill=guide_legend(title="Model")) +
facet_wrap(~Fleet,labeller = labeller(Fleet = fleet.labs))
p
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed")  +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
scale_color_viridis_d() +
labs(x = "Age",y = "Proportion") +
ggtitle("Female Selectivity and Maturity") +
guides(fill=guide_legend(title="Model")) +
facet_wrap(~Fleet,labeller = labeller(Fleet = fleet.labs))
p
p<-ggplot() +
geom_line(data = mat.t,aes(x=age,y=prop),color = "black",linewidth = 1.3,linetype = "dashed")  +
geom_line(data = sel_data.f,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
scale_color_viridis_d() +
labs(x = "Age",y = "Proportion",color = "Model") +
ggtitle("Female Selectivity and Maturity") +
facet_wrap(~Fleet,labeller = labeller(Fleet = fleet.labs))
p
p2<-ggplot() +
geom_line(data = sel_data.m,aes(x = as.numeric(Age),y=as.numeric(Proportion),color = as.factor(Model)),linewidth = 1.3) +
scale_color_viridis_d() +
labs(x = "Age",y="Proportion",color = "Model") +
ggtitle("Male Selectivity") +
facet_wrap(~Fleet,labeller = labeller(Fleet = fleet.labs))
p
p2
ggarrange(p,p2,nrow = 2)
p3<-ggarrange(p,p2,nrow = 2,common.legend = T)
p3
library(AreaGrowthRex)
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
p<-plot_selex_maturity(ssruns=MasterList,mlabels=Mlabels)
p
.THEME <- theme(panel.grid.major.x = element_blank(), panel.grid.minor.y = element_blank(), panel.grid.major.y = element_blank() )
.THEME <- .THEME + theme(text=element_text(size=18)) + theme(axis.title.x=element_text(size=24) ,axis.title.y=element_text(size=24, angle = 90,vjust = +2)) +
theme(legend.position = "bottom")
theme_set(.THEME)
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
p<-plot_selex_maturity(ssruns=MasterList,mlabels=Mlabels)
p
library(AreaGrowthRex)
library(AreaGrowthRex)
.THEME <- theme(panel.grid.major.x = element_blank(), panel.grid.minor.y = element_blank(), panel.grid.major.y = element_blank() )
.THEME <- .THEME + theme(text=element_text(size=18)) + theme(axis.title.x=element_text(size=24) ,axis.title.y=element_text(size=24, angle = 90,vjust = +2)) +
theme(legend.position = "bottom")
theme_set(.THEME)
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
p<-plot_selex_maturity(ssruns=MasterList,mlabels=Mlabels)
p
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
ggsave(filename = file.path("doc",paste0("Plot_Selex_Maturity_AllModels.png")),device = "png",width = 10,height = 7)
library(AreaGrowthRex)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
.THEME <- theme(panel.grid.major.x = element_blank(), panel.grid.minor.y = element_blank(), panel.grid.major.y = element_blank() )
.THEME <- .THEME + theme(text=element_text(size=18)) + theme(axis.title.x=element_text(size=24) ,axis.title.y=element_text(size=24, angle = 90,vjust = +2)) +
theme(legend.position = "bottom")
theme_set(.THEME)
#.THEME <- .THEME + the
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
M1 <- file.path("ss", "OneArea_NoFages")
M2 <- file.path("ss", "OneArea_Fages")
M3 <- file.path("ss", "TwoArea_NoFages")
M4 <- file.path("ss", "TwoArea_Fages")
Mlab.1 <- "OneArea_NoFages"
Mlab.2 <- "OneArea_Fages"
Mlab.3 <- "TwoArea_NoFages"
Mlab.4 <- "TwoArea_Fages"
Mlabels <- c(Mlab.1, Mlab.2, Mlab.3, Mlab.4)
MasterList <- r4ss::SSgetoutput(dirvec = c(M1, M2, M3, M4), getcomp = TRUE, getcovar = TRUE)
debug(plot_comps_onearea)
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
p<-plot_comps_onearea(ssruns = MasterList, narea = 1, mnames = Mlabels,comptype = "length", saveplots = TRUE)
library(AreaGrowthRex)
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
p<-plot_comps_onearea(ssruns = MasterList, narea = 1, mnames = Mlabels,comptype = "length", saveplots = TRUE)
p
p$noages
.THEME <- theme(panel.grid.major.x = element_blank(), panel.grid.minor.y = element_blank(), panel.grid.major.y = element_blank() )
.THEME <- .THEME + theme(text=element_text(size=18)) + theme(axis.title.x=element_text(size=24) ,axis.title.y=element_text(size=24, angle = 90,vjust = +2)) +
theme(legend.position = "bottom")
theme_set(.THEME)
p$noages
library(r4ss)
MyOutput = r4ss::SS_output(dir = M1,covar = TRUE,forecast=TRUE)
r4ss::SS_plots(replist = MyOutput,uncertainty=TRUE) , plot = 2:24)
r4ss::SS_plots(replist = MyOutput,uncertainty=TRUE)
debug(plot_growth)
g<-plot_growth(ssruns=MasterList,sslabels=Mlabels,savePlot = FALSE)
mlabels
mlabel
sslabels[1]
ssgata
ssgdata
head(ssgdata)
originaldata<-thedata %>% filter(Model==sslabels[1])
names(thedata)
originalssgdata<-ssgdata %>% filter(Model == sslabels[1])
originalssgdata<-ssgdata %>% filter(Model == sslabels[1])
originalssgdata<-ssgdata %>% filter(Model == sslabels[1])
p2<-p2 + geom_point(data=thedata,aes(x=Age, y=Length,color = factor(GrowthMorph))) + scale_color_manual(values = alpha(c('#39568CFF','#55C667FF'),0.05)) +
geom_line(data = originalssgdata,aes(x = Age,y = Length,color = factor(GrowthMorph)),linewidth = 1.2,alpha = 1) +
geom_ribbon(data = originalssgdata,aes(x = Age,ymin = lb,ymax = ub,fill = factor(GrowthMorph)),alpha = 0.25, show.legend = FALSE) + scale_fill_manual(values=c('#39568CFF','#55C667FF')) +
facet_grid(~Sex) + labs(y="Length (cm)",color = "Area")
p2<-ggplot()
p2<-p2 + geom_point(data=thedata,aes(x=Age, y=Length,color = factor(GrowthMorph))) + scale_color_manual(values = alpha(c('#39568CFF','#55C667FF'),0.05)) +
geom_line(data = originalssgdata,aes(x = Age,y = Length,color = factor(GrowthMorph)),linewidth = 1.2,alpha = 1) +
geom_ribbon(data = originalssgdata,aes(x = Age,ymin = lb,ymax = ub,fill = factor(GrowthMorph)),alpha = 0.25, show.legend = FALSE) + scale_fill_manual(values=c('#39568CFF','#55C667FF')) +
facet_grid(~Sex) + labs(y="Length (cm)",color = "Area")
if (savePlot == TRUE) {
ggsave(filename = file.path("doc",paste0("Plot_Growth_OneAreaNoFages.png")),device = "png",width = 20,height = 10)
}
p2
ggsave(filename = file.path("doc",paste0("Plot_Growth_OneAreaNoFages.png")),device = "png",width = 20,height = 10)
library(AreaGrowthRex)
.THEME <- theme(panel.grid.major.x = element_blank(), panel.grid.minor.y = element_blank(), panel.grid.major.y = element_blank() )
.THEME <- .THEME + theme(text=element_text(size=18)) + theme(axis.title.x=element_text(size=24) ,axis.title.y=element_text(size=24, angle = 90,vjust = +2)) +
theme(legend.position = "bottom")
theme_set(.THEME)
#.THEME <- .THEME + theme( panel.background = element_rect(fill="white"), #panel.border =
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
p<-plot_comps_onearea(ssruns = MasterList, narea = 1, mnames = Mlabels,comptype = "length", saveplots = TRUE)
p
p$combo
?scale_color_viridis_d
library(AreaGrowthRex)
.THEME <- theme(panel.grid.major.x = element_blank(), panel.grid.minor.y = element_blank(), panel.grid.major.y = element_blank() )
.THEME <- .THEME + theme(text=element_text(size=18)) + theme(axis.title.x=element_text(size=24) ,axis.title.y=element_text(size=24, angle = 90,vjust = +2)) +
theme(legend.position = "bottom")
theme_set(.THEME)
p<-plot_selex_maturity(ssruns=MasterList,mlabels=Mlabels)
ggsave(filename = file.path("doc",paste0("Plot_Selex_Maturity_AllModels.png")),device = "png",width = 10,height = 7)
p
library(AreaGrowthRex)
.THEME <- theme(panel.grid.major.x = element_blank(), panel.grid.minor.y = element_blank(), panel.grid.major.y = element_blank() )
.THEME <- .THEME + theme(text=element_text(size=18)) + theme(axis.title.x=element_text(size=24) ,axis.title.y=element_text(size=24, angle = 90,vjust = +2)) +
theme(legend.position = "bottom")
theme_set(.THEME)
#.THEME <- .THEME + th
p<-plot_selex_maturity(ssruns=MasterList,mlabels=Mlabels)
ggsave(filename = file.path("doc",paste0("Plot_Selex_Maturity_AllModels.png")),device = "png",width = 10,height = 7)
p
use_r("table_refpts")
here_i_am()
library(here)
here_i_am()
here::i_am()
i_am()
here()
read.csv<-file.path(here::here(data/"survey_biomass.csv"))
read.csv<-here::here("data","survey_biomass.csv")
survey.df<-read.csv(here::here("data","survey_biomass.csv"))
survey.df
app.df<-survey.df %>% filter(year>2011)
head(survey.df)
survey.df
app.df<-survey.df %>% filter(year>2011)
library(dplyr)
app.df<-survey.df %>% filter(year>2011)
app.df
avg.df<-app.df %>% mutate(central = mean(central))
avg.df
avg.df<-app.df %>% mutate(avgcentral = mean(central),avgeastern = mean(eastern),avgwestern = mean(western))
avg.df
avg.df<-avg.df %>% mutate(total = avgwestern + avgcentral + avgeastern)
avg.df
prop.western<-avg.df$avgwestern/avg.df$total
prop.central<-avg.df$avgcentral/avg.df$total
prop.eastern<-avg.df$avg.eastern/avg.df$total
prop.wester
prop.western
prop.western<-avg.df$avgwestern[1]/avg.df$total[1]
prop.central<-avg.df$avgcentral[2]/avg.df$total[2]
prop.eastern<-avg.df$avg.eastern[3]/avg.df$total[3]
prop.western
prop.central
prop.eastern
prop.western<-avg.df$avgwestern[1]/avg.df$total[1]
prop.central<-avg.df$avgcentral[1]/avg.df$total[1]
prop.eastern<-avg.df$avg.eastern[1]/avg.df$total[1]
prop.western
prop.central
prop.eastern
survey.df<-read.csv(here::here("data","survey_biomass.csv"))
app.df<-survey.df %>% filter(year>2011)
avg.df<-app.df %>% mutate(avgcentral = mean(central),avgeastern = mean(eastern),avgwestern = mean(western))
avg.df<-avg.df %>% mutate(total = avgwestern + avgcentral + avgeastern)
prop.western<-avg.df$avgwestern[1]/avg.df$total[1]
prop.central<-avg.df$avgcentral[1]/avg.df$total[1]
prop.eastern<-avg.df$avg.eastern[1]/avg.df$total[1]
prop.eastern
prop.eastern<-avg.df$avgeastern[1]/avg.df$total[1]
prop.eastern
prop.western
prop.central
MasterList
Mlabels
SSplotComparisons(MasterList,print = TRUE,plotdir = here("doc","sscompare"),legendlabels = Mlabels,legendloc = "bottomleft",sprtarg = 0.6,minbthresh = 0,btarg = 0,indexQlabel = F,indexUncertainty = T, par = parlist)
OneAreaList <- r4ss::SSgetoutput(dirvec = c(M1, M2), getcomp = TRUE, getcovar = TRUE)
TwoAreaList <- r4ss::SSgetoutput(dirvec = c(M3, M4), getcomp = TRUE, getcovar = TRUE)
TwoAreaList <- r4ss::SSgetoutput(dirvec = c(M3, M4), getcomp = TRUE, getcovar = TRUE)
OneAreaSummaryList <- r4ss::SSsummarize(OneAreaList)
TwoAreaSummaryList<-<- r4ss::SSsummarize(OneAreaList)
TwoAreaSummaryList<- r4ss::SSsummarize(OneAreaList)
SSplotComparisons(OneAreaSummaryList,print = TRUE,plotdir = here("doc","sscompare"),legendlabels = Mlabels,legendloc = "bottomleft",sprtarg = 0.6,minbthresh = 0,btarg = 0,indexQlabel = F,indexUncertainty = T, par = parlist)
here("doc","sscompare")
SSplotComparisons(OneAreaSummaryList,print = TRUE,plotdir = here("doc","sscompare"),legendlabels = c(M1,M2),legendloc = "bottomleft",sprtarg = 0.6,minbthresh = 0,btarg = 0,indexQlabel = F,indexUncertainty = T)
SSplotComparisons(TwoAreaSummaryList,print = TRUE,plotdir = here("doc","sscompare","oneareamodels"),legendlabels = c(M3,M4),legendloc = "bottomleft",sprtarg = 0.6,minbthresh = 0,btarg = 0,indexQlabel = F,indexUncertainty = T)
SSplotComparisons(OneAreaSummaryList,print = TRUE,plotdir = here("doc","sscompare","oneareamodels"),legendlabels = c(M1,M2),legendloc = "bottomleft",sprtarg = 0.6,minbthresh = 0,btarg = 0,indexQlabel = F,indexUncertainty = T)
SSplotComparisons(TwoAreaSummaryList,print = TRUE,plotdir = here("doc","sscompare","twoareamodels"),legendlabels = c(M3,M4),legendloc = "bottomleft",sprtarg = 0.6,minbthresh = 0,btarg = 0,indexQlabel = F,indexUncertainty = T)
SSplotComparisons(SummaryList,print = TRUE,plotdir = here("doc","sscompare","allmodels"),legendlabels = c(M1,M2,M3,M4),legendloc = "bottomleft",sprtarg = 0.6,minbthresh = 0,btarg = 0,indexQlabel = F,indexUncertainty = T)
SummaryList <- r4ss::SSgetoutput(dirvec = c(M1, M2,M3,M4), getcomp = TRUE, getcovar = TRUE)
SummaryList<-r4ss::SSsummarize(MasterList)
SSplotComparisons(SummaryList,print = TRUE,plotdir = here("doc","sscompare","allmodels"),legendlabels = c(M1,M2,M3,M4),legendloc = "bottomleft",sprtarg = 0.6,minbthresh = 0,btarg = 0,indexQlabel = F,indexUncertainty = T)
MyOutput = r4ss::SS_output(dir = M3,covar = TRUE,forecast=TRUE)
r4ss::SS_plots(replist = MyOutput,uncertainty=TRUE) #, plot = 2:24)
#
MyOutput = r4ss::SS_output(dir = M4,covar = TRUE,forecast=TRUE)
r4ss::SS_plots(replist = MyOutput,uncertainty=TRUE) #, plot = 2:24)
833.39-96-.26-20-3.74
833.39-20-0.35-2-32-32-2-32
713.04-31.64-5.6-32.56-11.19-12.40
4*155
713.04-620
library(AreaGrowthRex)
.THEME <- theme(panel.grid.major.x = element_blank(), panel.grid.minor.y = element_blank(), panel.grid.major.y = element_blank() )
library(ggplot2)
library(here)
library(ggpubr)
.THEME <- theme(panel.grid.major.x = element_blank(), panel.grid.minor.y = element_blank(), panel.grid.major.y = element_blank() )
.THEME <- .THEME + theme(text=element_text(size=18)) + theme(axis.title.x=element_text(size=24) ,axis.title.y=element_text(size=24, angle = 90,vjust = +2)) +
theme(legend.position = "bottom")
theme_set(.THEME)
here()
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
M1 <- file.path("ss", "OneArea_NoFages")
M2 <- file.path("ss", "OneArea_Fages")
M3 <- file.path("ss", "TwoArea_NoFages")
M4 <- file.path("ss", "TwoArea_Fages")
Mlab.1 <- "OneArea_NoFages"
Mlab.2 <- "OneArea_Fages"
Mlab.3 <- "TwoArea_NoFages"
Mlab.4 <- "TwoArea_Fages"
Mlabels <- c(Mlab.1, Mlab.2, Mlab.3, Mlab.4)
MasterList <- r4ss::SSgetoutput(dirvec = c(M1, M2, M3, M4), getcomp = TRUE, getcovar = TRUE)
OneAreaList <- r4ss::SSgetoutput(dirvec = c(M1, M2), getcomp = TRUE, getcovar = TRUE)
TwoAreaList <- r4ss::SSgetoutput(dirvec = c(M3, M4), getcomp = TRUE, getcovar = TRUE)
OneAreaSummaryList <- r4ss::SSsummarize(OneAreaList)
TwoAreaSummaryList<- r4ss::SSsummarize(OneAreaList)
SummaryList<-r4ss::SSsummarize(MasterList)
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
s<-plot_ssbs(ssruns=MasterList,mlabel=Mlabels,showlegend = FALSE)
s
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
#rs
#ggsave(filename = file.path(plot = rs,"doc",paste0("Compare_TimeSeries.png")),device = "png",width = 8.5,height = 11)
```
debug(plot_recs)
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
r<-plot_recs(ssruns = MasterList,mlabel = Mlabels,showlegend = TRUE)
rec.t
print(rec.t)
rec.t$Year
rec.t$Value
names(rec.t)
rec.t$Model
names(rec.t)
p<-ggplot(data = rec.t,aes(x = as.numeric(Year),y=Value))
p
p<-ggplot(data = rec.t,aes(x = as.numeric(Year),y=Value)) +
geom_line(aes(color = factor(Model)),linewidth = 1.5,alpha = 1,show.legend = showlegend) + scale_fill_viridis_d()
p
p<-ggplot(data = rec.t,aes(x = as.numeric(Year),y=Value)) +
geom_line(aes(color = factor(Model)),linewidth = 1.5,alpha = 1,show.legend = showlegend) + scale_fill_viridis_d() +
geom_ribbon(aes(x = as.numeric(Year),ymin = lb,ymax = ub,fill = factor(Model)),alpha =0.2,show.legend = FALSE) + scale_fill_viridis_d()
p
p<-ggplot(data = rec.t,aes(x = as.numeric(Year),y=Value)) +
geom_line(aes(color = factor(Model)),linewidth = 1.5,alpha = 1,show.legend = showlegend) + scale_fill_viridis_d() +
geom_ribbon(aes(x = as.numeric(Year),ymin = lb,ymax = ub,fill = factor(Model)),alpha =0.2,show.legend = FALSE) + scale_fill_viridis_d() +
labs(x="Year",y = "Age 0 Recruitment (thousands)",color = "Model")
p
r
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
s<-plot_ssbs(ssruns=MasterList,mlabel=Mlabels,showlegend = FALSE)
s
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
r<-plot_recs(ssruns = MasterList,mlabel = Mlabels,showlegend = TRUE)
r
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
ggarrange(r,s,labels = c("a","b"), nrow = 2, ncol = 1, common.legend = TRUE, legend="bottom")
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
library(ggplot2)
library(here)
library(ggpubr)
ggarrange(r,s,labels = c("a","b"))
use_r("plot_one_minus_spr")
names(MasterList)
ssruns<-MasterList
Mlabels
mlabel <-Mlabels
names(ssruns$replist1)
ssruns$replist1$SPRratioLabel
ssruns$replist1$last_years_SPR
ssruns$replist4$last_years_SPR
ssruns$replist3$last_years_SPR
ssruns$replist2$last_years_SPR
names(ssruns$replist4)
names(ssruns$replist4$fatage)
ssruns$replist4$fatage
52+0.07*52
342.86-55.64
