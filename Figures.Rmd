---
title: "Figures"
output: 
  word_document:
    reference_docx: carey_template.docx
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(AreaGrowthRex)
```

```{r readfiles, include = FALSE, message = FALSE, warning = FALSE}
M1 <- file.path("ss", "OneArea_NoFages")
M2 <- file.path("ss", "OneArea_Fages")
M3 <- file.path("ss", "TwoArea_NoFages")
M4 <- file.path("ss", "TwoArea_Fages")

Mlab.1 <- "OneArea_NoFages"
Mlab.2 <- "OneArea_Fages"
Mlab.3 <- "TwoArea_NoFages"
Mlab.4 <- "TwoArea_Fages"

Mlabels <- c(Mlab.1, Mlab.2, Mlab.3, Mlab.4)
MasterList <- r4ss::SSgetoutput(dirvec = c(M1, M2, M3, M4), getcomp = TRUE, getcovar = TRUE)
#SummaryList <- r4ss::SSsummarize(MasterList)
```

```{r plotruns, include = FALSE, message = FALSE, warning = FALSE}
# MyOutput = r4ss::SS_output(dir = M1,covar = TRUE,forecast=TRUE)
# r4ss::SS_plots(replist = MyOutput,uncertainty=TRUE) #, plot = 2:24) 
# 
# MyOutput = r4ss::SS_output(dir = M2,covar = TRUE,forecast=TRUE)
# r4ss::SS_plots(replist = MyOutput,uncertainty=TRUE) #, plot = 2:24) 
# 
# MyOutput = r4ss::SS_output(dir = M3,covar = TRUE,forecast=TRUE)
# r4ss::SS_plots(replist = MyOutput,uncertainty=TRUE) #, plot = 2:24) 
# 
# MyOutput = r4ss::SS_output(dir = M4,covar = TRUE,forecast=TRUE)
# r4ss::SS_plots(replist = MyOutput,uncertainty=TRUE) #, plot = 2:24) 
```

```{r plot lengths, echo = FALSE, message = FALSE, warning = FALSE, fig.cap = "Figure 1. Fits (lines) to female and male length composition data aggregated by year (shaded regions) for the one area model without fishery ages included in model inputs (green) and with fishery ages included in model inputs (blue)."}
p<-plot_comps_onearea(ssruns = MasterList, narea = 1, mnames = Mlabels,comptype = "length")

p$combo
#p$noages
#p$ages
```


```{r plot ages, echo = FALSE, message = FALSE, warning = FALSE, fig.cap = "Figure 2. Fits (lines) to female and male fishery age composition with data aggregated by year (shaded regions) for the one area model with fishery ages included in model inputs."}
q<-plot_comps_onearea(ssruns = MasterList, narea = 1, mnames = Mlabels,comptype = "age")
q$combo
```


